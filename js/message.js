import{isEscEvent,isEnterEvent}from"./utils.js";const successTemplate=document.querySelector("#success").content.querySelector(".success");let popup=null;const closeMessage=()=>{popup.remove(),document.removeEventListener("click",closeMessage)},closeOnButton=e=>{popup.querySelector('button[type="button"]').addEventListener("click",(()=>{e.preventDefault(),closeMessage(),document.removeEventListener("click",closeOnButton)}))},closeOnEnter=e=>{isEnterEvent(e)&&(closeMessage(),document.removeEventListener("keydown",closeOnButton))},closeOnOverlay=e=>{e.preventDefault(),closeMessage(),document.removeEventListener("click",closeOnOverlay)},closeOnEsc=e=>{isEscEvent(e)&&(e.preventDefault(),closeMessage(),document.removeEventListener("keydown",closeOnEsc))},showMessage=e=>{popup=e.cloneNode(!0);const s=popup.querySelector('button[type="button"]');document.addEventListener("click",closeOnButton),document.addEventListener("keydown",closeOnEnter),document.addEventListener("click",closeOnOverlay),document.addEventListener("keydown",closeOnEsc),document.body.append(popup),s.focus()},showSuccessMessage=()=>showMessage(successTemplate);export{showSuccessMessage};