import{isEscEvent}from"./utils.js";const navMain=document.querySelector(".main-nav"),navLink=navMain.querySelectorAll(".main-nav__link"),navToggle=navMain.querySelector(".main-nav__toggle"),overlay=navMain.querySelector(".overlay"),hideMenu=()=>{navToggle.setAttribute("aria-label","Открыть меню"),navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"),overlay.classList.remove("overlay--show"),document.body.classList.remove("page-no-scroll")},onNavLinkClick=()=>{for(let e=0;e<navLink.length;e++)navLink[e].addEventListener("click",(()=>{hideMenu()}))},closeOnOverlay=()=>{overlay.addEventListener("click",(e=>{e.preventDefault(),hideMenu(),document.removeEventListener("click",closeOnOverlay)}))},closeOnEsc=e=>{isEscEvent(e)&&(e.preventDefault(),hideMenu(),document.removeEventListener("keydown",closeOnEsc))},showMenu=()=>{navToggle.setAttribute("aria-label","Закрыть меню"),navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened"),overlay.classList.add("overlay--show"),document.body.classList.add("page-no-scroll"),document.addEventListener("click",closeOnOverlay),document.addEventListener("keydown",closeOnEsc)},onNavToggleClick=()=>{navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",(()=>{navMain.classList.contains("main-nav--closed")?(navToggle.setAttribute("aria-label","Закрыть меню"),navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened"),overlay.classList.add("overlay--show"),document.body.classList.add("page-no-scroll"),document.addEventListener("click",closeOnOverlay),document.addEventListener("keydown",closeOnEsc)):hideMenu()}))};export{onNavToggleClick,onNavLinkClick};